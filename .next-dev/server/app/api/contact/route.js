/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/contact/route";
exports.ids = ["app/api/contact/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcontact%2Froute&page=%2Fapi%2Fcontact%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontact%2Froute.ts&appDir=E%3A%5CPersonal%20Portfolio%20Website%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CPersonal%20Portfolio%20Website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcontact%2Froute&page=%2Fapi%2Fcontact%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontact%2Froute.ts&appDir=E%3A%5CPersonal%20Portfolio%20Website%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CPersonal%20Portfolio%20Website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_Personal_Portfolio_Website_src_app_api_contact_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/contact/route.ts */ \"(rsc)/./src/app/api/contact/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/contact/route\",\n        pathname: \"/api/contact\",\n        filename: \"route\",\n        bundlePath: \"app/api/contact/route\"\n    },\n    resolvedPagePath: \"E:\\\\Personal Portfolio Website\\\\src\\\\app\\\\api\\\\contact\\\\route.ts\",\n    nextConfigOutput,\n    userland: E_Personal_Portfolio_Website_src_app_api_contact_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZjb250YWN0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZjb250YWN0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY29udGFjdCUyRnJvdXRlLnRzJmFwcERpcj1FJTNBJTVDUGVyc29uYWwlMjBQb3J0Zm9saW8lMjBXZWJzaXRlJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1FJTNBJTVDUGVyc29uYWwlMjBQb3J0Zm9saW8lMjBXZWJzaXRlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNnQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3J0Zm9saW8vPzdmZmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkU6XFxcXFBlcnNvbmFsIFBvcnRmb2xpbyBXZWJzaXRlXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGNvbnRhY3RcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NvbnRhY3Qvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jb250YWN0XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jb250YWN0L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRTpcXFxcUGVyc29uYWwgUG9ydGZvbGlvIFdlYnNpdGVcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY29udGFjdFxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcontact%2Froute&page=%2Fapi%2Fcontact%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontact%2Froute.ts&appDir=E%3A%5CPersonal%20Portfolio%20Website%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CPersonal%20Portfolio%20Website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/contact/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/contact/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! nodemailer */ \"(rsc)/./node_modules/nodemailer/lib/nodemailer.js\");\n\n\n// Optional: dynamic import not needed for fetch (Node 18+ provides global fetch)\n// Basic rate limiting (in-memory) – resets on server restart\nconst WINDOW_MS = 60000 // 1 minute\n;\nconst MAX_PER_WINDOW = 5;\nconst recentIPs = {};\nfunction rateLimit(ip) {\n    const now = Date.now();\n    const rec = recentIPs[ip] || {\n        count: 0,\n        first: now\n    };\n    if (now - rec.first > WINDOW_MS) {\n        rec.count = 0;\n        rec.first = now;\n    }\n    rec.count++;\n    recentIPs[ip] = rec;\n    return rec.count <= MAX_PER_WINDOW;\n}\nasync function POST(req) {\n    try {\n        const ip = req.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || 'unknown';\n        if (!rateLimit(ip)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: false,\n                error: 'Too many requests. Please wait a minute.'\n            }, {\n                status: 429\n            });\n        }\n        const body = await req.json().catch(()=>null);\n        const { name = '', email = '', phone = '', message = '', honey = '' } = body || {};\n        const trimmed = {\n            name: name.trim(),\n            email: email.trim(),\n            phone: phone.trim(),\n            message: message.trim()\n        };\n        // Honeypot field: if filled, treat as spam silently succeed\n        if (honey) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: true,\n                spam: true,\n                provider: 'discard'\n            });\n        }\n        // Validation\n        const errors = [];\n        if (!trimmed.name || trimmed.name.length < 2) errors.push('Name must be at least 2 characters.');\n        if (!trimmed.email || !/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(trimmed.email)) errors.push('Enter a valid email address.');\n        if (!trimmed.message || trimmed.message.length < 8) errors.push('Message must be at least 8 characters.');\n        // Phone now fully optional; no server-side validation to avoid user friction.\n        if (trimmed.message.length > 3000) errors.push('Message is too long (max 3000 characters).');\n        if (errors.length) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: false,\n                errors,\n                fieldErrors: {\n                    name: errors.find((e)=>e.toLowerCase().includes('name')) || null,\n                    email: errors.find((e)=>e.toLowerCase().includes('email')) || null,\n                    // phone intentionally omitted from validation mapping (optional)\n                    message: errors.find((e)=>e.toLowerCase().includes('message')) || null\n                }\n            }, {\n                status: 400\n            });\n        }\n        const host = process.env.SMTP_HOST;\n        const port = parseInt(process.env.SMTP_PORT || '0', 10);\n        const secure = process.env.SMTP_SECURE === 'true';\n        const user = process.env.SMTP_USER;\n        const pass = process.env.SMTP_PASS;\n        const to = process.env.CONTACT_TO_EMAIL || 'suganthanaadhi@gmail.com';\n        const from = process.env.CONTACT_FROM_EMAIL || user || 'noreply@example.com';\n        const smtpConfigured = !!(host && port && user && pass);\n        const debug = process.env.CONTACT_DEBUG === 'true';\n        if (debug) console.log('[contact api] smtpConfigured=', smtpConfigured);\n        // Prepare email content early so Resend (which may run before SMTP) has access\n        const mailSubject = `Portfolio Contact: ${trimmed.name} <${trimmed.email}>`;\n        const textBody = [\n            `Name: ${trimmed.name}`,\n            `Email: ${trimmed.email}`,\n            `Phone: ${trimmed.phone || 'N/A'}`,\n            `IP: ${ip}`,\n            '',\n            trimmed.message\n        ].join('\\n');\n        const htmlBody = `<!DOCTYPE html><html><body style=\"font-family:system-ui,Segoe UI,Arial,sans-serif;line-height:1.5;color:#111;padding:16px\">\\n<h2 style=\"margin:0 0 12px\">New Portfolio Message</h2>\\n<p><strong>Name:</strong> ${escapeHtml(trimmed.name)}</p>\\n<p><strong>Email:</strong> ${escapeHtml(trimmed.email)}</p>\\n<p><strong>Phone:</strong> ${escapeHtml(trimmed.phone || 'N/A')}</p>\\n<p><strong>IP:</strong> ${escapeHtml(ip)}</p>\\n<hr style=\"margin:20px 0\"/>\\n<p style=\"white-space:pre-wrap\">${escapeHtml(trimmed.message)}</p>\\n</body></html>`;\n        async function sendViaResend() {\n            const resendKey = process.env.RESEND_API_KEY;\n            if (!resendKey) return {\n                ok: false,\n                reason: 'RESEND_NOT_CONFIGURED'\n            };\n            const resendTimeoutMs = parseInt(process.env.RESEND_TIMEOUT_MS || '8000', 10);\n            const resendRetries = Math.max(0, Math.min(5, parseInt(process.env.RESEND_RETRIES || '2', 10)));\n            for(let attempt = 0; attempt <= resendRetries; attempt++){\n                const controller = new AbortController();\n                const timeout = setTimeout(()=>controller.abort(), resendTimeoutMs);\n                const started = Date.now();\n                try {\n                    if (debug) console.log(`[contact api] attempting resend (attempt ${attempt + 1}/${resendRetries + 1})`);\n                    const resendRes = await fetch('https://api.resend.com/emails', {\n                        method: 'POST',\n                        headers: {\n                            'Authorization': `Bearer ${resendKey}`,\n                            'Content-Type': 'application/json'\n                        },\n                        body: JSON.stringify({\n                            from: 'Portfolio <onboarding@resend.dev>',\n                            to: [\n                                to\n                            ],\n                            subject: mailSubject,\n                            text: textBody,\n                            html: htmlBody,\n                            reply_to: trimmed.email\n                        }),\n                        signal: controller.signal\n                    });\n                    clearTimeout(timeout);\n                    if (resendRes.ok) {\n                        const payload = await resendRes.json().catch(()=>null);\n                        if (debug) console.log('[contact api] resend success', payload?.id, `in ${Date.now() - started}ms`);\n                        return {\n                            ok: true,\n                            provider: 'resend'\n                        };\n                    }\n                    const errText = await resendRes.text().catch(()=>'');\n                    if (debug) console.error('[contact api] resend error', resendRes.status, errText.slice(0, 300));\n                    // 5xx might be transient – retry; 4xx (except 408) usually permanent\n                    if (resendRes.status >= 500 && attempt < resendRetries) continue;\n                    return {\n                        ok: false,\n                        reason: 'RESEND_HTTP_' + resendRes.status\n                    };\n                } catch (e) {\n                    clearTimeout(timeout);\n                    const aborted = e?.name === 'AbortError';\n                    const causeCode = e?.cause?.code || e?.code || '';\n                    let reason = aborted ? 'RESEND_TIMEOUT' : causeCode === 'UND_ERR_CONNECT_TIMEOUT' ? 'RESEND_CONNECT_TIMEOUT' : causeCode ? 'RESEND_NET_' + causeCode : 'RESEND_EXCEPTION';\n                    if (debug) console.error('[contact api] resend exception', reason, e);\n                    // Retry on network / timeout if attempts remain\n                    if (attempt < resendRetries && /TIMEOUT|NET_|RESEND_EXCEPTION/.test(reason)) continue;\n                    return {\n                        ok: false,\n                        reason\n                    };\n                }\n            }\n            return {\n                ok: false,\n                reason: 'RESEND_UNKNOWN'\n            };\n        }\n        // If SMTP not configured, attempt Resend directly\n        if (!smtpConfigured) {\n            const resendAttempt = await sendViaResend();\n            if (resendAttempt.ok) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    ok: true,\n                    provider: resendAttempt.provider\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: false,\n                error: 'No email provider configured (need SMTP_* or RESEND_API_KEY)',\n                code: 'NO_PROVIDER',\n                details: resendAttempt.reason\n            }, {\n                status: 500\n            });\n        }\n        const transporter = nodemailer__WEBPACK_IMPORTED_MODULE_1__.createTransport({\n            host,\n            port,\n            secure,\n            auth: {\n                user,\n                pass\n            }\n        });\n        let sent = false;\n        try {\n            await transporter.sendMail({\n                to,\n                from,\n                replyTo: trimmed.email,\n                subject: mailSubject,\n                text: textBody,\n                html: htmlBody\n            });\n            sent = true;\n            if (debug) console.log('[contact api] smtp success');\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: true,\n                provider: 'smtp'\n            });\n        } catch (smtpErr) {\n            if (debug) console.error('[contact api] smtp failure', smtpErr?.code, smtpErr?.response);\n            // Try Resend fallback if configured\n            const resendAttempt = await sendViaResend();\n            if (resendAttempt.ok) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    ok: true,\n                    provider: resendAttempt.provider,\n                    fallback: 'smtp_failed'\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: false,\n                error: 'Delivery failed (SMTP + fallback)',\n                code: smtpErr?.code || 'SMTP_ERROR',\n                details: resendAttempt.reason\n            }, {\n                status: 502\n            });\n        }\n    } catch (err) {\n        console.error('[contact api] fatal error', err);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: 'Internal error',\n            code: 'FATAL'\n        }, {\n            status: 500\n        });\n    }\n}\nconst runtime = 'nodejs';\n// Simple HTML escape utility\nfunction escapeHtml(input) {\n    return input.replace(/[&<>\"']/g, (c)=>({\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            '\"': '&quot;',\n            \"'\": '&#39;'\n        })[c]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ckM7WUFDNUIsSUFBSXFDLGNBQWN0RixFQUFFLEVBQUU7Z0JBQ3BCLE9BQU9uQixxREFBWUEsQ0FBQ2tCLElBQUksQ0FBQztvQkFBRUMsSUFBSTtvQkFBTVksVUFBVTBFLGNBQWMxRSxRQUFRO29CQUFFb0YsVUFBVTtnQkFBYztZQUNqRztZQUNBLE9BQU9uSCxxREFBWUEsQ0FBQ2tCLElBQUksQ0FBQztnQkFBRUMsSUFBSTtnQkFBT0MsT0FBTztnQkFBcUNvRixNQUFNUyxTQUFTVCxRQUFRO2dCQUFjRSxTQUFTRCxjQUFjbEMsTUFBTTtZQUFDLEdBQUc7Z0JBQUVsRCxRQUFRO1lBQUk7UUFDeEs7SUFDRixFQUFFLE9BQU8rRixLQUFVO1FBQ2pCdkQsUUFBUXpDLEtBQUssQ0FBQyw2QkFBNkJnRztRQUMzQyxPQUFPcEgscURBQVlBLENBQUNrQixJQUFJLENBQUM7WUFBRUMsSUFBSTtZQUFPQyxPQUFPO1lBQWtCb0YsTUFBTTtRQUFRLEdBQUc7WUFBRW5GLFFBQVE7UUFBSTtJQUNoRztBQUNGO0FBRU8sTUFBTWdHLFVBQVUsU0FBUTtBQUUvQiw2QkFBNkI7QUFDN0IsU0FBU2xELFdBQVdtRCxLQUFhO0lBQy9CLE9BQU9BLE1BQU1DLE9BQU8sQ0FBQyxZQUFZQyxDQUFBQSxJQUFNO1lBQ3JDLEtBQUs7WUFDTCxLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO1FBQ1AsRUFBQyxDQUFDQSxFQUFFO0FBQ04iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb3J0Zm9saW8vLi9zcmMvYXBwL2FwaS9jb250YWN0L3JvdXRlLnRzPzAyMGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJ1xuXG4vLyBPcHRpb25hbDogZHluYW1pYyBpbXBvcnQgbm90IG5lZWRlZCBmb3IgZmV0Y2ggKE5vZGUgMTgrIHByb3ZpZGVzIGdsb2JhbCBmZXRjaClcblxuLy8gQmFzaWMgcmF0ZSBsaW1pdGluZyAoaW4tbWVtb3J5KSDigJMgcmVzZXRzIG9uIHNlcnZlciByZXN0YXJ0XG5jb25zdCBXSU5ET1dfTVMgPSA2MF8wMDAgLy8gMSBtaW51dGVcbmNvbnN0IE1BWF9QRVJfV0lORE9XID0gNVxuY29uc3QgcmVjZW50SVBzOiBSZWNvcmQ8c3RyaW5nLCB7IGNvdW50OiBudW1iZXI7IGZpcnN0OiBudW1iZXIgfT4gPSB7fVxuXG5mdW5jdGlvbiByYXRlTGltaXQoaXA6IHN0cmluZykge1xuICBjb25zdCBub3cgPSBEYXRlLm5vdygpXG4gIGNvbnN0IHJlYyA9IHJlY2VudElQc1tpcF0gfHwgeyBjb3VudDogMCwgZmlyc3Q6IG5vdyB9XG4gIGlmIChub3cgLSByZWMuZmlyc3QgPiBXSU5ET1dfTVMpIHtcbiAgICByZWMuY291bnQgPSAwXG4gICAgcmVjLmZpcnN0ID0gbm93XG4gIH1cbiAgcmVjLmNvdW50KytcbiAgcmVjZW50SVBzW2lwXSA9IHJlY1xuICByZXR1cm4gcmVjLmNvdW50IDw9IE1BWF9QRVJfV0lORE9XXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGlwID0gcmVxLmhlYWRlcnMuZ2V0KCd4LWZvcndhcmRlZC1mb3InKT8uc3BsaXQoJywnKVswXT8udHJpbSgpIHx8ICd1bmtub3duJ1xuICAgIGlmICghcmF0ZUxpbWl0KGlwKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvcjogJ1RvbyBtYW55IHJlcXVlc3RzLiBQbGVhc2Ugd2FpdCBhIG1pbnV0ZS4nIH0sIHsgc3RhdHVzOiA0MjkgfSlcbiAgICB9XG5cbiAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCkuY2F0Y2goKCkgPT4gbnVsbCBhcyBhbnkpXG4gIGNvbnN0IHsgbmFtZSA9ICcnLCBlbWFpbCA9ICcnLCBwaG9uZSA9ICcnLCBtZXNzYWdlID0gJycsIGhvbmV5ID0gJycgfSA9IGJvZHkgfHwge31cblxuICAgIGNvbnN0IHRyaW1tZWQgPSB7XG4gICAgICBuYW1lOiBuYW1lLnRyaW0oKSxcbiAgICAgIGVtYWlsOiBlbWFpbC50cmltKCksXG4gICAgICBwaG9uZTogcGhvbmUudHJpbSgpLFxuICAgICAgbWVzc2FnZTogbWVzc2FnZS50cmltKCksXG4gICAgfVxuXG4gICAgLy8gSG9uZXlwb3QgZmllbGQ6IGlmIGZpbGxlZCwgdHJlYXQgYXMgc3BhbSBzaWxlbnRseSBzdWNjZWVkXG4gICAgaWYgKGhvbmV5KSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBvazogdHJ1ZSwgc3BhbTogdHJ1ZSwgcHJvdmlkZXI6ICdkaXNjYXJkJyB9KVxuICAgIH1cblxuICAgIC8vIFZhbGlkYXRpb25cbiAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW11cbiAgICBpZiAoIXRyaW1tZWQubmFtZSB8fCB0cmltbWVkLm5hbWUubGVuZ3RoIDwgMikgZXJyb3JzLnB1c2goJ05hbWUgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMuJylcbiAgICBpZiAoIXRyaW1tZWQuZW1haWwgfHwgIS9eW15AXFxzXStAW15AXFxzXStcXC5bXkBcXHNdKyQvLnRlc3QodHJpbW1lZC5lbWFpbCkpIGVycm9ycy5wdXNoKCdFbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuJylcbiAgICBpZiAoIXRyaW1tZWQubWVzc2FnZSB8fCB0cmltbWVkLm1lc3NhZ2UubGVuZ3RoIDwgOCkgZXJyb3JzLnB1c2goJ01lc3NhZ2UgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMuJylcbiAgICAvLyBQaG9uZSBub3cgZnVsbHkgb3B0aW9uYWw7IG5vIHNlcnZlci1zaWRlIHZhbGlkYXRpb24gdG8gYXZvaWQgdXNlciBmcmljdGlvbi5cbiAgICBpZiAodHJpbW1lZC5tZXNzYWdlLmxlbmd0aCA+IDMwMDApIGVycm9ycy5wdXNoKCdNZXNzYWdlIGlzIHRvbyBsb25nIChtYXggMzAwMCBjaGFyYWN0ZXJzKS4nKVxuICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBvazogZmFsc2UsIGVycm9ycywgZmllbGRFcnJvcnM6IHtcbiAgICAgICAgbmFtZTogZXJyb3JzLmZpbmQoZSA9PiBlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ25hbWUnKSkgfHwgbnVsbCxcbiAgICAgICAgZW1haWw6IGVycm9ycy5maW5kKGUgPT4gZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdlbWFpbCcpKSB8fCBudWxsLFxuICAvLyBwaG9uZSBpbnRlbnRpb25hbGx5IG9taXR0ZWQgZnJvbSB2YWxpZGF0aW9uIG1hcHBpbmcgKG9wdGlvbmFsKVxuICAgICAgICBtZXNzYWdlOiBlcnJvcnMuZmluZChlID0+IGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbWVzc2FnZScpKSB8fCBudWxsLFxuICAgICAgfSB9LCB7IHN0YXR1czogNDAwIH0pXG4gICAgfVxuXG4gICAgY29uc3QgaG9zdCA9IHByb2Nlc3MuZW52LlNNVFBfSE9TVFxuICAgIGNvbnN0IHBvcnQgPSBwYXJzZUludChwcm9jZXNzLmVudi5TTVRQX1BPUlQgfHwgJzAnLCAxMClcbiAgICBjb25zdCBzZWN1cmUgPSBwcm9jZXNzLmVudi5TTVRQX1NFQ1VSRSA9PT0gJ3RydWUnXG4gICAgY29uc3QgdXNlciA9IHByb2Nlc3MuZW52LlNNVFBfVVNFUlxuICAgIGNvbnN0IHBhc3MgPSBwcm9jZXNzLmVudi5TTVRQX1BBU1NcbiAgICBjb25zdCB0byA9IHByb2Nlc3MuZW52LkNPTlRBQ1RfVE9fRU1BSUwgfHwgJ3N1Z2FudGhhbmFhZGhpQGdtYWlsLmNvbSdcbiAgICBjb25zdCBmcm9tID0gcHJvY2Vzcy5lbnYuQ09OVEFDVF9GUk9NX0VNQUlMIHx8IHVzZXIgfHwgJ25vcmVwbHlAZXhhbXBsZS5jb20nXG5cbiAgICBjb25zdCBzbXRwQ29uZmlndXJlZCA9ICEhKGhvc3QgJiYgcG9ydCAmJiB1c2VyICYmIHBhc3MpXG5cbiAgICBjb25zdCBkZWJ1ZyA9IHByb2Nlc3MuZW52LkNPTlRBQ1RfREVCVUcgPT09ICd0cnVlJ1xuICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coJ1tjb250YWN0IGFwaV0gc210cENvbmZpZ3VyZWQ9Jywgc210cENvbmZpZ3VyZWQpXG5cbiAgICAvLyBQcmVwYXJlIGVtYWlsIGNvbnRlbnQgZWFybHkgc28gUmVzZW5kICh3aGljaCBtYXkgcnVuIGJlZm9yZSBTTVRQKSBoYXMgYWNjZXNzXG4gICAgY29uc3QgbWFpbFN1YmplY3QgPSBgUG9ydGZvbGlvIENvbnRhY3Q6ICR7dHJpbW1lZC5uYW1lfSA8JHt0cmltbWVkLmVtYWlsfT5gXG4gICAgY29uc3QgdGV4dEJvZHkgPSBbXG4gICAgICBgTmFtZTogJHt0cmltbWVkLm5hbWV9YCxcbiAgICAgIGBFbWFpbDogJHt0cmltbWVkLmVtYWlsfWAsXG4gICAgICBgUGhvbmU6ICR7dHJpbW1lZC5waG9uZSB8fCAnTi9BJ31gLFxuICAgICAgYElQOiAke2lwfWAsXG4gICAgICAnJyxcbiAgICAgIHRyaW1tZWQubWVzc2FnZSxcbiAgICBdLmpvaW4oJ1xcbicpXG5cbiAgY29uc3QgaHRtbEJvZHkgPSBgPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHkgc3R5bGU9XCJmb250LWZhbWlseTpzeXN0ZW0tdWksU2Vnb2UgVUksQXJpYWwsc2Fucy1zZXJpZjtsaW5lLWhlaWdodDoxLjU7Y29sb3I6IzExMTtwYWRkaW5nOjE2cHhcIj5cXG48aDIgc3R5bGU9XCJtYXJnaW46MCAwIDEycHhcIj5OZXcgUG9ydGZvbGlvIE1lc3NhZ2U8L2gyPlxcbjxwPjxzdHJvbmc+TmFtZTo8L3N0cm9uZz4gJHtlc2NhcGVIdG1sKHRyaW1tZWQubmFtZSl9PC9wPlxcbjxwPjxzdHJvbmc+RW1haWw6PC9zdHJvbmc+ICR7ZXNjYXBlSHRtbCh0cmltbWVkLmVtYWlsKX08L3A+XFxuPHA+PHN0cm9uZz5QaG9uZTo8L3N0cm9uZz4gJHtlc2NhcGVIdG1sKHRyaW1tZWQucGhvbmUgfHwgJ04vQScpfTwvcD5cXG48cD48c3Ryb25nPklQOjwvc3Ryb25nPiAke2VzY2FwZUh0bWwoaXApfTwvcD5cXG48aHIgc3R5bGU9XCJtYXJnaW46MjBweCAwXCIvPlxcbjxwIHN0eWxlPVwid2hpdGUtc3BhY2U6cHJlLXdyYXBcIj4ke2VzY2FwZUh0bWwodHJpbW1lZC5tZXNzYWdlKX08L3A+XFxuPC9ib2R5PjwvaHRtbD5gXG5cbiAgICBhc3luYyBmdW5jdGlvbiBzZW5kVmlhUmVzZW5kKCkge1xuICAgICAgY29uc3QgcmVzZW5kS2V5ID0gcHJvY2Vzcy5lbnYuUkVTRU5EX0FQSV9LRVlcbiAgICAgIGlmICghcmVzZW5kS2V5KSByZXR1cm4geyBvazogZmFsc2UgYXMgY29uc3QsIHJlYXNvbjogJ1JFU0VORF9OT1RfQ09ORklHVVJFRCcgfVxuICAgICAgY29uc3QgcmVzZW5kVGltZW91dE1zID0gcGFyc2VJbnQocHJvY2Vzcy5lbnYuUkVTRU5EX1RJTUVPVVRfTVMgfHwgJzgwMDAnLCAxMClcbiAgICAgIGNvbnN0IHJlc2VuZFJldHJpZXMgPSBNYXRoLm1heCgwLCBNYXRoLm1pbig1LCBwYXJzZUludChwcm9jZXNzLmVudi5SRVNFTkRfUkVUUklFUyB8fCAnMicsIDEwKSkpXG5cbiAgICAgIGZvciAobGV0IGF0dGVtcHQgPSAwOyBhdHRlbXB0IDw9IHJlc2VuZFJldHJpZXM7IGF0dGVtcHQrKykge1xuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpXG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgcmVzZW5kVGltZW91dE1zKVxuICAgICAgICBjb25zdCBzdGFydGVkID0gRGF0ZS5ub3coKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coYFtjb250YWN0IGFwaV0gYXR0ZW1wdGluZyByZXNlbmQgKGF0dGVtcHQgJHthdHRlbXB0ICsgMX0vJHtyZXNlbmRSZXRyaWVzICsgMX0pYClcbiAgICAgICAgICBjb25zdCByZXNlbmRSZXMgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkucmVzZW5kLmNvbS9lbWFpbHMnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7cmVzZW5kS2V5fWAsXG4gICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIGZyb206ICdQb3J0Zm9saW8gPG9uYm9hcmRpbmdAcmVzZW5kLmRldj4nLFxuICAgICAgICAgICAgICB0bzogW3RvXSxcbiAgICAgICAgICAgICAgc3ViamVjdDogbWFpbFN1YmplY3QsXG4gICAgICAgICAgICAgIHRleHQ6IHRleHRCb2R5LFxuICAgICAgICAgICAgICBodG1sOiBodG1sQm9keSxcbiAgICAgICAgICAgICAgcmVwbHlfdG86IHRyaW1tZWQuZW1haWwsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICAgICAgfSlcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICAgICAgICBpZiAocmVzZW5kUmVzLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgcmVzZW5kUmVzLmpzb24oKS5jYXRjaCgoKSA9PiBudWxsKVxuICAgICAgICAgICAgaWYgKGRlYnVnKSBjb25zb2xlLmxvZygnW2NvbnRhY3QgYXBpXSByZXNlbmQgc3VjY2VzcycsIHBheWxvYWQ/LmlkLCBgaW4gJHtEYXRlLm5vdygpIC0gc3RhcnRlZH1tc2ApXG4gICAgICAgICAgICByZXR1cm4geyBvazogdHJ1ZSBhcyBjb25zdCwgcHJvdmlkZXI6ICdyZXNlbmQnIGFzIGNvbnN0IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZXJyVGV4dCA9IGF3YWl0IHJlc2VuZFJlcy50ZXh0KCkuY2F0Y2goKCkgPT4gJycpXG4gICAgICAgICAgaWYgKGRlYnVnKSBjb25zb2xlLmVycm9yKCdbY29udGFjdCBhcGldIHJlc2VuZCBlcnJvcicsIHJlc2VuZFJlcy5zdGF0dXMsIGVyclRleHQuc2xpY2UoMCwgMzAwKSlcbiAgICAgICAgICAvLyA1eHggbWlnaHQgYmUgdHJhbnNpZW50IOKAkyByZXRyeTsgNHh4IChleGNlcHQgNDA4KSB1c3VhbGx5IHBlcm1hbmVudFxuICAgICAgICAgIGlmIChyZXNlbmRSZXMuc3RhdHVzID49IDUwMCAmJiBhdHRlbXB0IDwgcmVzZW5kUmV0cmllcykgY29udGludWVcbiAgICAgICAgICByZXR1cm4geyBvazogZmFsc2UgYXMgY29uc3QsIHJlYXNvbjogJ1JFU0VORF9IVFRQXycgKyByZXNlbmRSZXMuc3RhdHVzIH1cbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXG4gICAgICAgICAgY29uc3QgYWJvcnRlZCA9IGU/Lm5hbWUgPT09ICdBYm9ydEVycm9yJ1xuICAgICAgICAgIGNvbnN0IGNhdXNlQ29kZSA9IChlPy5jYXVzZT8uY29kZSB8fCBlPy5jb2RlIHx8ICcnKSBhcyBzdHJpbmdcbiAgICAgICAgICBsZXQgcmVhc29uOiBzdHJpbmdcbiAgICAgICAgICAgID0gYWJvcnRlZCA/ICdSRVNFTkRfVElNRU9VVCdcbiAgICAgICAgICAgIDogY2F1c2VDb2RlID09PSAnVU5EX0VSUl9DT05ORUNUX1RJTUVPVVQnID8gJ1JFU0VORF9DT05ORUNUX1RJTUVPVVQnXG4gICAgICAgICAgICA6IGNhdXNlQ29kZSA/ICgnUkVTRU5EX05FVF8nICsgY2F1c2VDb2RlKVxuICAgICAgICAgICAgOiAnUkVTRU5EX0VYQ0VQVElPTidcbiAgICAgICAgICBpZiAoZGVidWcpIGNvbnNvbGUuZXJyb3IoJ1tjb250YWN0IGFwaV0gcmVzZW5kIGV4Y2VwdGlvbicsIHJlYXNvbiwgZSlcbiAgICAgICAgICAvLyBSZXRyeSBvbiBuZXR3b3JrIC8gdGltZW91dCBpZiBhdHRlbXB0cyByZW1haW5cbiAgICAgICAgICBpZiAoYXR0ZW1wdCA8IHJlc2VuZFJldHJpZXMgJiYgL1RJTUVPVVR8TkVUX3xSRVNFTkRfRVhDRVBUSU9OLy50ZXN0KHJlYXNvbikpIGNvbnRpbnVlXG4gICAgICAgICAgcmV0dXJuIHsgb2s6IGZhbHNlIGFzIGNvbnN0LCByZWFzb24gfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyBvazogZmFsc2UgYXMgY29uc3QsIHJlYXNvbjogJ1JFU0VORF9VTktOT1dOJyB9XG4gICAgfVxuXG4gICAgLy8gSWYgU01UUCBub3QgY29uZmlndXJlZCwgYXR0ZW1wdCBSZXNlbmQgZGlyZWN0bHlcbiAgICBpZiAoIXNtdHBDb25maWd1cmVkKSB7XG4gICAgICBjb25zdCByZXNlbmRBdHRlbXB0ID0gYXdhaXQgc2VuZFZpYVJlc2VuZCgpXG4gICAgICBpZiAocmVzZW5kQXR0ZW1wdC5vaykge1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBvazogdHJ1ZSwgcHJvdmlkZXI6IHJlc2VuZEF0dGVtcHQucHJvdmlkZXIgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOiBmYWxzZSwgZXJyb3I6ICdObyBlbWFpbCBwcm92aWRlciBjb25maWd1cmVkIChuZWVkIFNNVFBfKiBvciBSRVNFTkRfQVBJX0tFWSknLCBjb2RlOiAnTk9fUFJPVklERVInLCBkZXRhaWxzOiByZXNlbmRBdHRlbXB0LnJlYXNvbiB9LCB7IHN0YXR1czogNTAwIH0pXG4gICAgfVxuXG4gICAgY29uc3QgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XG4gICAgICBob3N0LFxuICAgICAgcG9ydCxcbiAgICAgIHNlY3VyZSxcbiAgICAgIGF1dGg6IHsgdXNlciwgcGFzcyB9LFxuICAgIH0pXG5cbiAgICBsZXQgc2VudCA9IGZhbHNlXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHtcbiAgICAgICAgdG8sXG4gICAgICAgIGZyb20sXG4gICAgICAgIHJlcGx5VG86IHRyaW1tZWQuZW1haWwsXG4gICAgICAgIHN1YmplY3Q6IG1haWxTdWJqZWN0LFxuICAgICAgICB0ZXh0OiB0ZXh0Qm9keSxcbiAgICAgICAgaHRtbDogaHRtbEJvZHksXG4gICAgICB9KVxuICAgICAgc2VudCA9IHRydWVcbiAgICAgIGlmIChkZWJ1ZykgY29uc29sZS5sb2coJ1tjb250YWN0IGFwaV0gc210cCBzdWNjZXNzJylcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOiB0cnVlLCBwcm92aWRlcjogJ3NtdHAnIH0pXG4gICAgfSBjYXRjaCAoc210cEVycjogYW55KSB7XG4gICAgICBpZiAoZGVidWcpIGNvbnNvbGUuZXJyb3IoJ1tjb250YWN0IGFwaV0gc210cCBmYWlsdXJlJywgc210cEVycj8uY29kZSwgc210cEVycj8ucmVzcG9uc2UpXG4gICAgICAvLyBUcnkgUmVzZW5kIGZhbGxiYWNrIGlmIGNvbmZpZ3VyZWRcbiAgICAgIGNvbnN0IHJlc2VuZEF0dGVtcHQgPSBhd2FpdCBzZW5kVmlhUmVzZW5kKClcbiAgICAgIGlmIChyZXNlbmRBdHRlbXB0Lm9rKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOiB0cnVlLCBwcm92aWRlcjogcmVzZW5kQXR0ZW1wdC5wcm92aWRlciwgZmFsbGJhY2s6ICdzbXRwX2ZhaWxlZCcgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOiBmYWxzZSwgZXJyb3I6ICdEZWxpdmVyeSBmYWlsZWQgKFNNVFAgKyBmYWxsYmFjayknLCBjb2RlOiBzbXRwRXJyPy5jb2RlIHx8ICdTTVRQX0VSUk9SJywgZGV0YWlsczogcmVzZW5kQXR0ZW1wdC5yZWFzb24gfSwgeyBzdGF0dXM6IDUwMiB9KVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbY29udGFjdCBhcGldIGZhdGFsIGVycm9yJywgZXJyKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOiBmYWxzZSwgZXJyb3I6ICdJbnRlcm5hbCBlcnJvcicsIGNvZGU6ICdGQVRBTCcgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBydW50aW1lID0gJ25vZGVqcydcblxuLy8gU2ltcGxlIEhUTUwgZXNjYXBlIHV0aWxpdHlcbmZ1bmN0aW9uIGVzY2FwZUh0bWwoaW5wdXQ6IHN0cmluZykge1xuICByZXR1cm4gaW5wdXQucmVwbGFjZSgvWyY8PlwiJ10vZywgYyA9PiAoe1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7JyxcbiAgfVtjXSBhcyBzdHJpbmcpKVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJub2RlbWFpbGVyIiwiV0lORE9XX01TIiwiTUFYX1BFUl9XSU5ET1ciLCJyZWNlbnRJUHMiLCJyYXRlTGltaXQiLCJpcCIsIm5vdyIsIkRhdGUiLCJyZWMiLCJjb3VudCIsImZpcnN0IiwiUE9TVCIsInJlcSIsImhlYWRlcnMiLCJnZXQiLCJzcGxpdCIsInRyaW0iLCJqc29uIiwib2siLCJlcnJvciIsInN0YXR1cyIsImJvZHkiLCJjYXRjaCIsIm5hbWUiLCJlbWFpbCIsInBob25lIiwibWVzc2FnZSIsImhvbmV5IiwidHJpbW1lZCIsInNwYW0iLCJwcm92aWRlciIsImVycm9ycyIsImxlbmd0aCIsInB1c2giLCJ0ZXN0IiwiZmllbGRFcnJvcnMiLCJmaW5kIiwiZSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJob3N0IiwicHJvY2VzcyIsImVudiIsIlNNVFBfSE9TVCIsInBvcnQiLCJwYXJzZUludCIsIlNNVFBfUE9SVCIsInNlY3VyZSIsIlNNVFBfU0VDVVJFIiwidXNlciIsIlNNVFBfVVNFUiIsInBhc3MiLCJTTVRQX1BBU1MiLCJ0byIsIkNPTlRBQ1RfVE9fRU1BSUwiLCJmcm9tIiwiQ09OVEFDVF9GUk9NX0VNQUlMIiwic210cENvbmZpZ3VyZWQiLCJkZWJ1ZyIsIkNPTlRBQ1RfREVCVUciLCJjb25zb2xlIiwibG9nIiwibWFpbFN1YmplY3QiLCJ0ZXh0Qm9keSIsImpvaW4iLCJodG1sQm9keSIsImVzY2FwZUh0bWwiLCJzZW5kVmlhUmVzZW5kIiwicmVzZW5kS2V5IiwiUkVTRU5EX0FQSV9LRVkiLCJyZWFzb24iLCJyZXNlbmRUaW1lb3V0TXMiLCJSRVNFTkRfVElNRU9VVF9NUyIsInJlc2VuZFJldHJpZXMiLCJNYXRoIiwibWF4IiwibWluIiwiUkVTRU5EX1JFVFJJRVMiLCJhdHRlbXB0IiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYWJvcnQiLCJzdGFydGVkIiwicmVzZW5kUmVzIiwiZmV0Y2giLCJtZXRob2QiLCJKU09OIiwic3RyaW5naWZ5Iiwic3ViamVjdCIsInRleHQiLCJodG1sIiwicmVwbHlfdG8iLCJzaWduYWwiLCJjbGVhclRpbWVvdXQiLCJwYXlsb2FkIiwiaWQiLCJlcnJUZXh0Iiwic2xpY2UiLCJhYm9ydGVkIiwiY2F1c2VDb2RlIiwiY2F1c2UiLCJjb2RlIiwicmVzZW5kQXR0ZW1wdCIsImRldGFpbHMiLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsImF1dGgiLCJzZW50Iiwic2VuZE1haWwiLCJyZXBseVRvIiwic210cEVyciIsInJlc3BvbnNlIiwiZmFsbGJhY2siLCJlcnIiLCJydW50aW1lIiwiaW5wdXQiLCJyZXBsYWNlIiwiYyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/contact/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/nodemailer"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcontact%2Froute&page=%2Fapi%2Fcontact%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcontact%2Froute.ts&appDir=E%3A%5CPersonal%20Portfolio%20Website%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5CPersonal%20Portfolio%20Website&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();